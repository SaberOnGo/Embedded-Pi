<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>COX Shield: xTIMER</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="coocox_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">COX Shield
   &#160;<span id="projectnumber">V2.0.0</span>
   </div>
   <div id="projectbrief">API Reference</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__x_t_i_m_e_r.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">xTIMER</div>  </div>
<div class="ingroups"><a class="el" href="group___t_i_m_e_r.html">TIMER</a></div></div><!--header-->
<div class="contents">

<p>CoX TIMER Peripheral Interface.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for xTIMER:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__x_t_i_m_e_r.png" border="0" alt="" usemap="#group____x__t__i__m__e__r"/>
<map name="group____x__t__i__m__e__r" id="group____x__t__i__m__e__r">
<area shape="rect" id="node1" href="group__x_t_i_m_e_r___count___channel.html" title="Timer Count Channels. &#160;." alt="" coords="236,5,385,30"/><area shape="rect" id="node2" href="group__x_t_i_m_e_r___i_n_t___event.html" title="Values that show xTIMER Interrupt Events. &#160;." alt="" coords="239,54,383,79"/><area shape="rect" id="node4" href="group__x_t_i_m_e_r___mode___type.html" title="Values that show xTIMER Mode Type. &#160;." alt="" coords="248,103,373,129"/><area shape="rect" id="node5" href="group__x_t_i_m_e_r___counter___pase___type.html" title="Values that show xTIMER Counter Pase Type. &#160;." alt="" coords="225,153,396,178"/><area shape="rect" id="node6" href="group__x_t_i_m_e_r___count___direction.html" title="Values that show the count direction &#160;." alt="" coords="235,202,386,227"/><area shape="rect" id="node7" href="group__x_t_i_m_e_r___capture___mode___type.html" title="Values that show xTIMER Capture Mode Type. &#160;." alt="" coords="225,251,397,277"/><area shape="rect" id="node8" href="group__x_t_i_m_e_r___capture___edge___type.html" title="Values that show xTIMER Capture Edge Type. &#160;." alt="" coords="225,301,396,326"/><area shape="rect" id="node9" href="group__x_t_i_m_e_r___i_n_t___type.html" title="Values that show xTIMER Interrupt Type. &#160;." alt="" coords="255,350,366,375"/><area shape="rect" id="node10" href="group__x_t_i_m_e_r___exported___a_p_is.html" title="xTIMER API Reference." alt="" coords="269,399,353,425"/><area shape="rect" id="node11" href="group___t_i_m_e_r.html" title="Timer controller Peripheral Driver." alt="" coords="5,202,64,227"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__x_t_i_m_e_r___mode___type"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__x_t_i_m_e_r___mode___type.html">xTIMER Mode Type</a></td></tr>
<tr class="memdesc:group__x_t_i_m_e_r___mode___type"><td class="mdescLeft">&#160;</td><td class="mdescRight">Values that show xTIMER Mode Type. <br/>
. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__x_t_i_m_e_r___i_n_t___type"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__x_t_i_m_e_r___i_n_t___type.html">xTIMER Interrupt</a></td></tr>
<tr class="memdesc:group__x_t_i_m_e_r___i_n_t___type"><td class="mdescLeft">&#160;</td><td class="mdescRight">Values that show xTIMER Interrupt Type. <br/>
. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__x_t_i_m_e_r___i_n_t___event"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__x_t_i_m_e_r___i_n_t___event.html">xTIMER Interrupt Event</a></td></tr>
<tr class="memdesc:group__x_t_i_m_e_r___i_n_t___event"><td class="mdescLeft">&#160;</td><td class="mdescRight">Values that show xTIMER Interrupt Events. <br/>
. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__x_t_i_m_e_r___counter___pase___type"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__x_t_i_m_e_r___counter___pase___type.html">xTIMER Counter Pase Type</a></td></tr>
<tr class="memdesc:group__x_t_i_m_e_r___counter___pase___type"><td class="mdescLeft">&#160;</td><td class="mdescRight">Values that show xTIMER Counter Pase Type. <br/>
. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__x_t_i_m_e_r___capture___edge___type"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__x_t_i_m_e_r___capture___edge___type.html">xTIMER Capture Edge Type</a></td></tr>
<tr class="memdesc:group__x_t_i_m_e_r___capture___edge___type"><td class="mdescLeft">&#160;</td><td class="mdescRight">Values that show xTIMER Capture Edge Type. <br/>
. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__x_t_i_m_e_r___capture___mode___type"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__x_t_i_m_e_r___capture___mode___type.html">xTIMER Capture Mode Type</a></td></tr>
<tr class="memdesc:group__x_t_i_m_e_r___capture___mode___type"><td class="mdescLeft">&#160;</td><td class="mdescRight">Values that show xTIMER Capture Mode Type. <br/>
. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__x_t_i_m_e_r___count___direction"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__x_t_i_m_e_r___count___direction.html">xTIMER Count Direction</a></td></tr>
<tr class="memdesc:group__x_t_i_m_e_r___count___direction"><td class="mdescLeft">&#160;</td><td class="mdescRight">Values that show the count direction <br/>
. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__x_t_i_m_e_r___count___channel"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__x_t_i_m_e_r___count___channel.html">xTIMER Count Channel</a></td></tr>
<tr class="memdesc:group__x_t_i_m_e_r___count___channel"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer Count Channels. <br/>
. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__x_t_i_m_e_r___exported___a_p_is"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__x_t_i_m_e_r___exported___a_p_is.html">xTIMER API</a></td></tr>
<tr class="memdesc:group__x_t_i_m_e_r___exported___a_p_is"><td class="mdescLeft">&#160;</td><td class="mdescRight">xTIMER API Reference. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>CoX TIMER Peripheral Interface. </p>
<p>The xTIMER is the TIMER Peripheral Interface of CoX. It defines some common macros and APIs.</p>
<h1>Contents</h1>
<ul>
<li><a class="el" href="group__x_t_i_m_e_r.html#CoX_TIMER_How_Define">1. How is xTIMER Standard Defined?</a></li>
<li><a class="el" href="group__x_t_i_m_e_r.html#xTIMER_API_Group">2. XTiemr API Groups</a><ul>
<li><a class="el" href="group__x_t_i_m_e_r.html#xTIMER_API_Mode_Config">2.1 xTIMER API Mode Config</a></li>
<li><a class="el" href="group__x_t_i_m_e_r.html#xTIMER_API_Start_Stop">2.2 xTIMER API Start Stop</a></li>
<li><a class="el" href="group__x_t_i_m_e_r.html#xTIMER_API_Event_Counting">2.3 xTIMER API Event Counting</a></li>
<li><a class="el" href="group__x_t_i_m_e_r.html#xTIMER_API_Capture">2.4 xTIMER API Capture</a></li>
<li><a class="el" href="group__x_t_i_m_e_r.html#xTIMER_API_Value_Set">2.5 xTIMER API Value Set</a></li>
<li><a class="el" href="group__x_t_i_m_e_r.html#xTIMER_API_Inerrupt">2.6 xTIMER API Interrupt</a></li>
</ul>
</li>
<li><a class="el" href="group__x_t_i_m_e_r.html#xTIMER_Usage">3. Usage &amp; Program Examples</a></li>
</ul>
<p><br/>
</p>
<h1><a class="anchor" id="CoX_TIMER_How_Define"></a>
1. How is xTIMER Standard Defined?</h1>
<p>CoX TIMER defines the APIs based on the following common functions:</p>
<ul>
<li>Mode configure<ul>
<li>One shot mode</li>
<li>Periodic mode</li>
<li>toggle mode</li>
<li>continuous mode</li>
</ul>
</li>
<li>Timer Start-Stop<ul>
<li>Timer start</li>
<li>Tiemr stop</li>
</ul>
</li>
<li>Event counting set<ul>
<li>Rising edge count</li>
<li>Falling edge count</li>
</ul>
</li>
<li>Capture set<ul>
<li>Capture reset</li>
<li>Input capture</li>
</ul>
</li>
<li>Values set and get<ul>
<li>Prescale value set and get</li>
<li>Timer value set and get</li>
<li>Match value set and get</li>
</ul>
</li>
<li>Interrupt operation</li>
</ul>
<p><br/>
 </p>
<h1><a class="anchor" id="xTIMER_API_Group"></a>
2. XTiemr API Groups</h1>
<p>The CoX TIMER API is broken into six groups of functions:</p>
<ul>
<li>those that deal with configuring the Mode configure,</li>
<li>those that deal with Timer Start-Stop,</li>
<li>those that deal with Event counting set,</li>
<li>those that deal with capture set,</li>
<li>those that deal with values set and get,</li>
<li>those that deal with interrupt operation</li>
</ul>
<p><br/>
 </p>
<h2><a class="anchor" id="xTIMER_API_Mode_Config"></a>
2.1 xTIMER API Mode Config</h2>
<p>The TIMER Mode are configured with:</p>
<ul>
<li><a class="el" href="group__x_t_i_m_e_r___exported___a_p_is.html#ga99acdc3cb44f7c6251a10493ba723130" title="Configurate The Timer&#39;s mode and tick frequency.">xTimerInitConfig()</a></li>
</ul>
<p><br/>
 </p>
<h2><a class="anchor" id="xTIMER_API_Start_Stop"></a>
2.2 xTIMER API Start Stop</h2>
<p>The timer srart and stop are configured with:</p>
<ul>
<li><a class="el" href="group__x_t_i_m_e_r___exported___a_p_is.html#ga3321678eddaa253fca8361ca9a298c1a" title="Start The Timer counter.">xTimerStart()</a></li>
<li><a class="el" href="group__x_t_i_m_e_r___exported___a_p_is.html#ga21083b01e766c940c9870434cc223d69" title="Stop The Timer counter.">xTimerStop()</a></li>
</ul>
<p><br/>
 </p>
<h2><a class="anchor" id="xTIMER_API_Event_Counting"></a>
2.3 xTIMER API Event Counting</h2>
<p>The TIMER event counting are handled with:</p>
<ul>
<li><a class="el" href="group__x_t_i_m_e_r___exported___a_p_is.html#ga545d091acf667c6d605f7d764ecb08d4" title="Enable The Timer counter as a counter.">xTimerCounterEnable()</a></li>
<li><a class="el" href="group__x_t_i_m_e_r___exported___a_p_is.html#gac81bdbcf95ce5e5d572c57028462e6e9" title="Disable The Timer counter as a counter.">xTimerCounterDisable()</a></li>
</ul>
<p><br/>
 </p>
<h2><a class="anchor" id="xTIMER_API_Capture"></a>
2.4 xTIMER API Capture</h2>
<p>The capture function are handled with:</p>
<ul>
<li><a class="el" href="group__x_t_i_m_e_r___exported___a_p_is.html#ga5c50a6c9cccf902fc3c7625a423a6de3" title="Enable The Timer counter as a capture.">xTimerCaptureModeSet()</a></li>
<li>xTIMERPinWrite()</li>
</ul>
<p><br/>
 </p>
<h2><a class="anchor" id="xTIMER_API_Value_Set"></a>
2.5 xTIMER API Value Set</h2>
<p>The capture function are configured with:</p>
<ul>
<li><a class="el" href="group__x_t_i_m_e_r___exported___a_p_is.html#gaaedc9b3b72a7ed8042c54e4b79aeb04b" title="Set The Timer counter Prescale Value.">xTimerPrescaleSet()</a></li>
<li><a class="el" href="group__x_t_i_m_e_r___exported___a_p_is.html#ga38e1f720409e8b47851817a7e37b916f" title="Get The Timer counter Prescale Value.">xTimerPrescaleGet()</a></li>
<li><a class="el" href="group__x_t_i_m_e_r___exported___a_p_is.html#ga687e0583f662a3e7dc2687ea18ab6cc4" title="Get The Timer counter current up timer or up event counter value.">xTimerValueGet()</a></li>
<li><a class="el" href="group__x_t_i_m_e_r___exported___a_p_is.html#ga79f2ce859af9f4b4064a5ceaf81c4e19" title="Set The Timer counter Compare Match Value.">xTimerMatchSet()</a></li>
<li><a class="el" href="group__x_t_i_m_e_r___exported___a_p_is.html#gade1376fc808ff7f7eb6e2805ddf3fcc9" title="Get The Timer counter Compare Match Value.">xTimerMatchGet()</a></li>
</ul>
<p><br/>
 </p>
<h2><a class="anchor" id="xTIMER_API_Inerrupt"></a>
2.6 xTIMER API Interrupt</h2>
<p>The Interrupt are handled with:</p>
<ul>
<li><a class="el" href="group__x_t_i_m_e_r___exported___a_p_is.html#gaefb17d35218de9e742080ecaf6e26ed2" title="Init interrupts callback for the timer.">xTimerIntCallbackInit()</a></li>
<li><a class="el" href="group__x_t_i_m_e_r___exported___a_p_is.html#gac870b82fa03f30aa201098fdfd43a40f" title="Enable The Timer counter interrupt.">xTimerIntEnable()</a></li>
<li>xTimerIntDisable()</li>
<li>xTimerIntStatus()</li>
<li>xTimerIntClear()</li>
</ul>
<p><br/>
 </p>
<h1><a class="anchor" id="xTIMER_Usage"></a>
3. Usage &amp; Program Examples</h1>
<p>The following example shows how to use the TIMER API to initialize the TIMER, read data from pins, and write data to pins.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="xhw__types_8h.html" title="Common types and macros.">xhw_types.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="xcore_8h.html" title="Prototypes for the CPU instruction wrapper functions.">xcore.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;xhw_gpio.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="xhw__ints_8h.html" title="Macros that define the interrupt assignment on the MCU.">xhw_ints.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="xhw__memmap_8h.html" title="Macros defining the memory map of the MCU.">xhw_memmap.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="xhw__nvic_8h.html" title="Macros used when accessing the NVIC hardware.For M0.">xhw_nvic.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;xhw_sysctl.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;xhw_timer.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;xhw_uart.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="xgpio_8h.html" title="Prototypes for the GPIO Driver.">xgpio.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="xsysctl_8h.html" title="Prototypes for the System Manager Driver.">xsysctl.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="xtimer_8h.html" title="Prototypes for the TIMER Driver.">xtimer.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="xuart_8h.html" title="Prototypes for the UART Driver.">xuart.h</a>&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//*****************************************************************************</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// \biref function declaration</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// \return  none</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">//*****************************************************************************</span></div>
<div class="line"><span class="keywordtype">void</span> Print(<span class="keywordtype">char</span> *pcMsg);</div>
<div class="line"><span class="keywordtype">void</span> UART0Configuration(<span class="keywordtype">void</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">//*****************************************************************************</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// \biref The main example function</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// \return  none</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">//*****************************************************************************</span></div>
<div class="line"><span class="keywordtype">void</span> OneSecondClock(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">//Set the external 12MHZ clock as system clock </span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">        SysCtlKeyAddrUnlock();</div>
<div class="line">        <a class="code" href="group__x_low_layer___hardware___access.html#gacc4c9382b683abd87e548905f46f39f3">xHWREG</a>(SYSCLK_PWRCON) |= SYSCLK_PWRCON_XTL12M_EN;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Set the timer clock</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    SysCtlPeripheralClockSourceSet(SYSCTL_PERIPH_TMR0_S_EXT12M);</div>
<div class="line">    </div>
<div class="line">    UART0Configuration();</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// </span></div>
<div class="line">    <span class="comment">// Enable tiemr0</span></div>
<div class="line">    <span class="comment">// </span></div>
<div class="line">    <a class="code" href="group__x_sys_ctl___exported___a_p_is.html#gaf622b54325597b6f01b58287ab6e1a8d" title="Enables a peripheral.">xSysCtlPeripheralEnable</a>(<a class="code" href="group__x_sys_ctl___peripheral___i_d.html#gac761a61f1156ad2ce170bdf71fbaaa09">xSYSCTL_PERIPH_TIMER0</a>);  </div>
<div class="line">    </div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Clear the flag first</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    xTimerIntClear(TIMER0_BASE, 0, TIMER_INT_MATCH);</div>
<div class="line">    <span class="keywordflow">while</span>(xTimerIntStatus(TIMER0_BASE, 0, TIMER_INT_MATCH));</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// </span></div>
<div class="line">    <span class="comment">// Config as One shot mode</span></div>
<div class="line">    <span class="comment">//        </span></div>
<div class="line">    <a class="code" href="group__x_t_i_m_e_r___exported___a_p_is.html#ga99acdc3cb44f7c6251a10493ba723130" title="Configurate The Timer&#39;s mode and tick frequency.">xTimerInitConfig</a>(TIMER0_BASE, 0, TIMER_MODE_PERIODIC, 1000);</div>
<div class="line">    <a class="code" href="group__x_t_i_m_e_r___exported___a_p_is.html#gaaedc9b3b72a7ed8042c54e4b79aeb04b" title="Set The Timer counter Prescale Value.">xTimerPrescaleSet</a>(TIMER0_BASE, 0, 91);</div>
<div class="line">    <a class="code" href="group__x_t_i_m_e_r___exported___a_p_is.html#ga79f2ce859af9f4b4064a5ceaf81c4e19" title="Set The Timer counter Compare Match Value.">xTimerMatchSet</a>(TIMER0_BASE, 0, 0x1ffff);</div>
<div class="line">    <a class="code" href="group__x_t_i_m_e_r___exported___a_p_is.html#gac870b82fa03f30aa201098fdfd43a40f" title="Enable The Timer counter interrupt.">xTimerIntEnable</a>(TIMER0_BASE, 0, TIMER_INT_MATCH);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Start the timer</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <a class="code" href="group__x_t_i_m_e_r___exported___a_p_is.html#ga3321678eddaa253fca8361ca9a298c1a" title="Start The Timer counter.">xTimerStart</a>(TIMER0_BASE, 0);</div>
<div class="line">        </div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// One shot mode test.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="keywordflow">while</span>(1)</div>
<div class="line">    {       </div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// wait until the timer data register reach equel to compare register</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="keywordflow">while</span>(!xTimerIntStatus(TIMER0_BASE, 0, TIMER_INT_MATCH));</div>
<div class="line">        Print(<span class="stringliteral">&quot;one second has gone...&quot;</span>);</div>
<div class="line">        Print(<span class="stringliteral">&quot;\r\n&quot;</span>);</div>
<div class="line">        xTimerIntClear(TIMER0_BASE, 0, TIMER_INT_MATCH);</div>
<div class="line">    }  </div>
<div class="line">    </div>
<div class="line"></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//*****************************************************************************</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// \biref uart0 configre </span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// \return  none</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">//*****************************************************************************</span></div>
<div class="line"><span class="keywordtype">void</span> UART0Configuration(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">  </div>
<div class="line">        <a class="code" href="group__x_g_p_i_o___exported___a_p_is.html#gab5609e8ec803212500e8905f364d3765" title="Turn a pin to a GPIO UART input or output pin.">xSPinTypeUART</a>(U0RX,<a class="code" href="group__x_g_p_i_o___short___pin.html#gacb0f9abbadb16a66065b04c9e43b8f41">PB0</a>);</div>
<div class="line">        <a class="code" href="group__x_g_p_i_o___exported___a_p_is.html#gab5609e8ec803212500e8905f364d3765" title="Turn a pin to a GPIO UART input or output pin.">xSPinTypeUART</a>(U0TX,<a class="code" href="group__x_g_p_i_o___short___pin.html#ga37eb042c0715e6f809fb8677b8805f57">PB1</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">//xSysCtlPeripheralReset(xSYSCTL_PERIPH_UART0);</span></div>
<div class="line">        <a class="code" href="group__x_sys_ctl___exported___a_p_is.html#gaf622b54325597b6f01b58287ab6e1a8d" title="Enables a peripheral.">xSysCtlPeripheralEnable</a>(<a class="code" href="group__x_sys_ctl___peripheral___i_d.html#gafd2a67f172017ae3c3191ef2ca86abd4">xSYSCTL_PERIPH_UART0</a>);</div>
<div class="line">    SysCtlPeripheralClockSourceSet(SYSCTL_PERIPH_UART_S_EXT12M);</div>
<div class="line"></div>
<div class="line">        <a class="code" href="group__x_low_layer___hardware___access.html#gacc4c9382b683abd87e548905f46f39f3">xHWREG</a>(UART0_BASE + UART_FCR) |= 0x6;</div>
<div class="line">        <a class="code" href="group__x_low_layer___hardware___access.html#gacc4c9382b683abd87e548905f46f39f3">xHWREG</a>(UART0_BASE + UART_FCR) &amp;= ~(0xF0);</div>
<div class="line">        <a class="code" href="group__x_low_layer___hardware___access.html#gacc4c9382b683abd87e548905f46f39f3">xHWREG</a>(UART0_BASE + UART_FCR) |= 0;</div>
<div class="line"></div>
<div class="line">        <a class="code" href="group__x_low_layer___hardware___access.html#gacc4c9382b683abd87e548905f46f39f3">xHWREG</a>(UART0_BASE + UART_LCR) = 3;</div>
<div class="line">        <a class="code" href="group__x_low_layer___hardware___access.html#gacc4c9382b683abd87e548905f46f39f3">xHWREG</a>(UART0_BASE + UART_BAUD) = 0x3F000066;</div>
<div class="line"></div>
<div class="line">        SysCtlDelay(10000);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//*****************************************************************************</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// \breif uart send function</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// \return none</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">//*****************************************************************************</span></div>
<div class="line"><span class="keywordtype">void</span> Print(<span class="keywordtype">char</span> *pcMsg)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ch;</div>
<div class="line">    <span class="keywordflow">while</span> (*pcMsg != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// Put a character in the output buffer.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        ch = *pcMsg++;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">while</span>((<a class="code" href="group__x_low_layer___hardware___access.html#gacc4c9382b683abd87e548905f46f39f3">xHWREG</a>(UART0_BASE + UART_FSR) &amp; (0x400000))!=0x400000);</div>
<div class="line">            <span class="comment">//</span></div>
<div class="line">           <span class="comment">// Write this character to the transmit FIFO.</span></div>
<div class="line">            <span class="comment">//</span></div>
<div class="line">            <a class="code" href="group__x_low_layer___hardware___access.html#gacc4c9382b683abd87e548905f46f39f3">xHWREG</a>(UART0_BASE + UART_THR) = ch;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<hr>
<address>
  <small>
    &copy;&nbsp;2009-2011 by CooCox - 
    visit <a href="http://www.coocox.org/">http://www.coocox.org/</a>
  </small>
</address>
</body>
</html>
