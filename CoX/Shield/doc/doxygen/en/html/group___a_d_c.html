<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>COX Shield: ADC</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="coocox_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">COX Shield
   &#160;<span id="projectnumber">V2.0.0</span>
   </div>
   <div id="projectbrief">API Reference</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___a_d_c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">ADC</div>  </div>
<div class="ingroups"><a class="el" href="group___co_x___peripheral___lib.html">CoX Peripheral Library</a></div></div><!--header-->
<div class="contents">

<p>Analog-to-Digital Converter (ADC) Peripheral Driver.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for ADC:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group___a_d_c.png" border="0" alt="" usemap="#group______a__d__c"/>
<map name="group______a__d__c" id="group______a__d__c">
<area shape="rect" id="node3" href="group__x_a_d_c.html" title="CoX ADC Peripheral Interface." alt="" coords="297,5,349,30"/><area shape="rect" id="node2" href="group___co_x___peripheral___lib.html" title="CooCox CoX Peripheral Interface Library." alt="" coords="6,5,151,30"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__x_a_d_c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__x_a_d_c.html">xADC</a></td></tr>
<tr class="memdesc:group__x_a_d_c"><td class="mdescLeft">&#160;</td><td class="mdescRight">CoX ADC Peripheral Interface. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Analog-to-Digital Converter (ADC) Peripheral Driver. </p>
<pre class="fragment">An analog-to-digital converter (ADC) is a peripheral that converts a 
continuous analog voltage to a discrete digital number.

The ADC always operates by successive approximation with 10-bit/12-bit 
resolution and has several input channels, plus an internal temperature 
sensor. 

The ADC moudule always works as an programmable sequencer allowing 
the sampling of multiple analog input sources without controller intervention.
The sequencer provides flexible programming with fully configurable input 
source, trigger events, interrupt generation. 

A digital comparator function is included which allows the conversion 
value to be diverted to a digital comparator module. Each digital comparator
evaluates the ADC conversion value against its user-defined values to 
</pre><p> determine the operational range of the signal.</p>
<p>The analog to digital converter (ADC) API provides a set of functions for dealing with the ADC.</p>
<p>Functions are provided to configure the sample sequencers and digital comparators, read the captured data, and handle the interrupt.</p>
<p><br/>
 </p>
<h1>Contents</h1>
<ul>
<li><a class="el" href="group___a_d_c.html#ADC_Blcok">1. ADC Physical Block</a></li>
<li><a class="el" href="group___a_d_c.html#ADC_Function_Desc">2. ADC Functional Description</a><ul>
<li><a class="el" href="group___a_d_c.html#ADC_Pin_Desc">2.1 ADC Peripheral Pin Description</a></li>
<li><a class="el" href="E:/rongdong/git/shining.git/CoX/CoX_Peripheral/CoX_Peripheral_Manual/doc/txt/adc/xadc_en.txt.html#ADC_Sequence">2.2 What is an ADC Sample Sequencer?</a></li>
<li><a class="el" href="group___a_d_c.html#ADC_Source">2.3 ADC Input Source</a></li>
<li><a class="el" href="group___a_d_c.html#ADC_Comp">2.4 ADC Digital Comparator Unit</a></li>
<li><a class="el" href="group___a_d_c.html#ADC_Event">2.5 ADC Interrupt and Event</a></li>
</ul>
</li>
</ul>
<p><br/>
 </p>
<h1><a class="anchor" id="ADC_Blcok"></a>
1. ADC Physical Block</h1>
<div class="image">
<img src="adc_block.png" />
</div>
<p><br/>
 </p>
<h1><a class="anchor" id="ADC_Function_Desc"></a>
2. ADC Functional Description</h1>
<p><br/>
 </p>
<h2><a class="anchor" id="ADC_Pin_Desc"></a>
2.1 ADC Peripheral Pin Description</h2>
<pre class="fragment">//! +----------------+------------------------------------------------+
//! |Pin Name        |Pin Description                                 |
//! |----------------|------------------------------------------------|
//! |ADC0            |Analog-to-digital converter input 0.            |
//! |----------------|------------------------------------------------|
//! |ADC1            |Analog-to-digital converter input 1.            |
//! |----------------|------------------------------------------------|
//! |ADC2            |Analog-to-digital converter input 2.            |
//! |----------------|------------------------------------------------|
//! |ADC3            |Analog-to-digital converter input 3.            |
//! |----------------|------------------------------------------------|
//! |ADC4            |Analog-to-digital converter input 4.            |
//! |----------------|------------------------------------------------|
//! |ADC5            |Analog-to-digital converter input 5.            |
//! |----------------|------------------------------------------------|
//! |ADC6            |Analog-to-digital converter input 6.            |
//! |----------------|------------------------------------------------|
//! |ADC7            |Analog-to-digital converter input 7.            |
//! |----------------|------------------------------------------------|
//! |ADCN            |Analog-to-digital converter input N.            |
//! |----------------|------------------------------------------------|
//! </pre> <pre class="fragment">@subsection ADC_Sequence 2.2 What is an ADC Sample Sequencer?

A sample sequencer is a set of A/D sample convertion, Performing according 
to chronological and putting the covertion datas into a FIFO. The ADC will
first execute the step 0 sample, then step 1 and so on.
 \n
The programming of each sample in the sample sequence includes parameters
such as the input source and mode (differential versus single-ended input), 
and the indicator for the last sample in the sequence.
\n
Here is an example:
@verbatim 
</pre><p> //! +-------------&mdash;+---------------------------------------------&mdash;+ //! |Step |Config | //! |-------------&mdash;|---------------------------------------------&mdash;| //! |Step 0 |ADC2 | single-ended | //! |-------------&mdash;|---------------------------------------------&mdash;| //! |Step 1 |ADC6 | single-ended | //! |-------------&mdash;|---------------------------------------------&mdash;| //! |Step 2 |ADC7 | single-ended | end sequencer | //! |-------------&mdash;|---------------------------------------------&mdash;| //!  The mode of the sample sequencer, can be:</p>
<ul>
<li>single cycle - The ADC execute the sample from step 0 to the end.</li>
<li>continuous - The ADC execute the sequencer continuonusly.</li>
</ul>
<p>There are several trigger source can start the AD sequencer:</p>
<ul>
<li>processor(software).</li>
<li>External pin events:<ul>
<li>Low Level.</li>
<li>High Level.</li>
<li>Falling edge.</li>
<li>Rising edge.</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="ADC_Source"></a>
2.3 ADC Input Source</h2>
<p>Always the ADC input source can be:</p>
<ul>
<li>External analog input channel reuse with the GPIO pins, ADC0, ADC1 ...</li>
<li>Internal temperature sensor.</li>
<li>Internal Vref.</li>
</ul>
<p>The ADC input mode can be differential or single-ended. <br/>
 When a sequence step is configured for differential sampling, the input pair to sample must be configured. Differential pair 0 samples analog inputs 0 and 1; differential pair 1 samples analog inputs 2 and 3; and so on. The voltage sampled in differential mode is the difference between the odd and even channels: </p>
<div class="image">
<img src="adc_differential_express.png" />
</div>
<h2><a class="anchor" id="ADC_Comp"></a>
2.4 ADC Digital Comparator Unit</h2>
<p>An ADC is commonly used to sample an external signal and to monitor its value to ensure that it remains in a given range. To automate this monitoring procedure and reduce the amount of processor overhead that is required, each module provides eight digital comparators. Conversions from the ADC that are sent to the digital comparators are compared against the user programmable limits. If the observed signal moves out of the acceptable range, a processor interrupt can be generated. The digital comparators can be applied to three separate regions (low band, mid band, high band) as defined by the user.</p>
<h2><a class="anchor" id="ADC_Event"></a>
2.5 ADC Interrupt and Event</h2>
<p>There as several interrupt in ADC module:</p>
<ul>
<li>End convertion - An sequencer single cycle complete.</li>
<li>Digital Comparator N match.</li>
</ul>
<p><br/>
 </p>
<dl class="section note"><dt>Note</dt><dd>Here describes the common function of the ADC Peripheral. The CoX Peripheral Interface is base on the functions above. </dd></dl>
</div><!-- contents -->
</div><!-- doc-content -->
<hr>
<address>
  <small>
    &copy;&nbsp;2009-2011 by CooCox - 
    visit <a href="http://www.coocox.org/">http://www.coocox.org/</a>
  </small>
</address>
</body>
</html>
