<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>COX Shield: xGPIO</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="coocox_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">COX Shield
   &#160;<span id="projectnumber">V2.0.0</span>
   </div>
   <div id="projectbrief">API Reference</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__x_g_p_i_o.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">xGPIO</div>  </div>
<div class="ingroups"><a class="el" href="group___g_p_i_o.html">GPIO</a></div></div><!--header-->
<div class="contents">

<p>CoX GPIO Peripheral Interface.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for xGPIO:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__x_g_p_i_o.png" border="0" alt="" usemap="#group____x__g__p__i__o"/>
<map name="group____x__g__p__i__o" id="group____x__g__p__i__o">
<area shape="rect" id="node1" href="group__x_g_p_i_o___exported___a_p_is.html" title="xGPIO API Reference." alt="" coords="261,5,339,30"/><area shape="rect" id="node2" href="group__x_g_p_i_o___general___pin___i_ds.html" title="xGPIO General Pin ID" alt="" coords="231,54,369,79"/><area shape="rect" id="node3" href="group__x_g_p_i_o___short___pin.html" title="xGPIO Short Pin ID" alt="" coords="238,103,362,129"/><area shape="rect" id="node4" href="group__x_g_p_i_o___g_p___short___pin.html" title="xGPIO General Purpose\l Short Pin" alt="" coords="223,153,377,191"/><area shape="rect" id="node5" href="group__x_g_p_i_o___peripheral___pin.html" title="General Peripheral Pin Name." alt="" coords="208,215,392,241"/><area shape="rect" id="node6" href="group__x_g_p_i_o___int___type.html" title="xGPIO Int Type" alt="" coords="249,265,351,290"/><area shape="rect" id="node7" href="group___g_p_i_o.html" title="General&#45;Purpose Input/Outputs (GPIO) Peripheral Driver." alt="" coords="5,265,56,290"/><area shape="rect" id="node8" href="group__x_g_p_i_o___config.html" title="xGPIO intrerrupt number\l config" alt="" coords="223,314,377,353"/><area shape="rect" id="node9" href="group__x_g_p_i_o___pad___config___strength.html" title="xGPIO Pad Config Strength" alt="" coords="215,377,385,402"/><area shape="rect" id="node10" href="group__x_g_p_i_o___dir___mode.html" title="xGPIO Dir Mode" alt="" coords="246,426,354,451"/><area shape="rect" id="node11" href="group__x_g_p_i_o___pin___config.html" title="Values that can be passed to xGPIOPinConfigure as the ulPinConfig parameter." alt="" coords="242,475,358,501"/><area shape="rect" id="node12" href="group__x_g_p_i_o___pad___config___type.html" title="xGPIO Pad Config Type" alt="" coords="225,525,375,550"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__x_g_p_i_o___config"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__x_g_p_i_o___config.html">xGPIO intrerrupt number config</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__x_g_p_i_o___general___pin___i_ds"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__x_g_p_i_o___general___pin___i_ds.html">xGPIO General Pin ID</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__x_g_p_i_o___dir___mode"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__x_g_p_i_o___dir___mode.html">xGPIO Dir Mode</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__x_g_p_i_o___int___type"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__x_g_p_i_o___int___type.html">xGPIO Int Type</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__x_g_p_i_o___pad___config___strength"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__x_g_p_i_o___pad___config___strength.html">xGPIO Pad Config Strength</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__x_g_p_i_o___pad___config___type"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__x_g_p_i_o___pad___config___type.html">xGPIO Pad Config Type</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__x_g_p_i_o___g_p___short___pin"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__x_g_p_i_o___g_p___short___pin.html">xGPIO General Purpose Short Pin</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__x_g_p_i_o___short___pin"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__x_g_p_i_o___short___pin.html">xGPIO Short Pin ID</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__x_g_p_i_o___peripheral___pin"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__x_g_p_i_o___peripheral___pin.html">xGPIO General Peripheral Pin</a></td></tr>
<tr class="memdesc:group__x_g_p_i_o___peripheral___pin"><td class="mdescLeft">&#160;</td><td class="mdescRight">General Peripheral Pin Name. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__x_g_p_i_o___pin___config"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__x_g_p_i_o___pin___config.html">xGPIO Pin Config</a></td></tr>
<tr class="memdesc:group__x_g_p_i_o___pin___config"><td class="mdescLeft">&#160;</td><td class="mdescRight">Values that can be passed to xGPIOPinConfigure as the ulPinConfig parameter. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__x_g_p_i_o___exported___a_p_is"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__x_g_p_i_o___exported___a_p_is.html">xGPIO API</a></td></tr>
<tr class="memdesc:group__x_g_p_i_o___exported___a_p_is"><td class="mdescLeft">&#160;</td><td class="mdescRight">xGPIO API Reference. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>CoX GPIO Peripheral Interface. </p>
<p>The xGPIO is the GPIO Peripheral Interface of CoX. It defines some common macros and APIs.</p>
<h1>Contents</h1>
<ul>
<li><a class="el" href="group__x_g_p_i_o.html#CoX_GPIO_How_Define">1. How is the xGPIO Standard Define?</a></li>
<li><a class="el" href="group__x_g_p_i_o.html#xGPIO_API_Group">2. API Groups</a><ul>
<li><a class="el" href="group__x_g_p_i_o.html#xGPIO_API_Group_Config">2.1 GPIO Config APIs</a></li>
<li><a class="el" href="group__x_g_p_i_o.html#xGPIO_API_Group_Interrupt">2.2 GPIO Interrupt APIs</a></li>
<li><a class="el" href="group__x_g_p_i_o.html#xGPIO_API_Group_Pin">2.3 GPIO Pin State APIs</a></li>
</ul>
</li>
<li><a class="el" href="group__x_g_p_i_o.html#xGPIO_Usage">3. Usage &amp; Program Examples</a></li>
</ul>
<p><br/>
</p>
<h1><a class="anchor" id="CoX_GPIO_How_Define"></a>
1. How is the xGPIO Standard Define?</h1>
<p>CoX GPIO defines the APIs based on the following common functions:</p>
<ul>
<li>Configure a GPIO I/O line(pin)<ul>
<li>Direction Configure :<ul>
<li>Input</li>
<li>Output</li>
<li>Hardware</li>
</ul>
</li>
<li>Peripheral Function Assignment(AFIO)</li>
<li>Pad Configure :<ul>
<li>Drive strength</li>
<li>open-drain / push-pull</li>
<li>weak pull-up / pull-down resistors</li>
</ul>
</li>
</ul>
</li>
<li>GPIO Pin Data Control.<ul>
<li>Output a High or Low level.</li>
<li>Sample the pin value.</li>
</ul>
</li>
<li>Input Interrupt(EXTI) :<ul>
<li>Rising Edge Detection</li>
<li>Falling Edge Detection</li>
<li>Both Edge Detection</li>
<li>Low Level Detection</li>
<li>High Level Detection</li>
</ul>
</li>
</ul>
<p><br/>
 </p>
<h1><a class="anchor" id="xGPIO_API_Group"></a>
2. API Groups</h1>
<p>The CoX GPIO API is broken into three groups of functions:</p>
<ul>
<li>those that deal with configuring the GPIO pins,</li>
<li>those that deal with interrupts,</li>
<li>those that access the pin value.</li>
</ul>
<p><br/>
 </p>
<h2><a class="anchor" id="xGPIO_API_Group_Config"></a>
2.1 GPIO Config APIs</h2>
<p>The GPIO pins are configured with :</p>
<ul>
<li><a class="el" href="group__x_g_p_i_o___exported___a_p_is.html#ga8e3d4c0ca9fa39734e7d8844d366c466" title="Set the direction and mode of the specified pin(s).">xGPIODirModeSet()</a></li>
<li>xGPIOPadConfigSet().</li>
</ul>
<p>The configuration can be read back with</p>
<ul>
<li><a class="el" href="group__x_g_p_i_o___exported___a_p_is.html#gac8db1b41791211abe17d8af998a60e24" title="Get the direction and mode of a pin.">xGPIODirModeGet()</a></li>
<li>xGPIOPadConfigGet().</li>
</ul>
<p>There are also convenience functions for configuring the pin in the required or recommended configuration for a particular peripheral; these are :</p>
<ul>
<li>XPinTypeGPIOInput(),</li>
<li>XPinTypeGPIOOutput(),</li>
<li>XPinTypeGPIOOutputOD(),</li>
<li>XPinTypeADC(),</li>
<li>XPinTypeCAN(),</li>
<li>others must be add to the list.</li>
</ul>
<p><br/>
 </p>
<h2><a class="anchor" id="xGPIO_API_Group_Interrupt"></a>
2.2 GPIO Interrupt APIs</h2>
<p>The GPIO interrupts are handled with :</p>
<ul>
<li><a class="el" href="group__x_g_p_i_o___exported___a_p_is.html#ga1d7eb83c37dc81f54a50ea203a0d824c" title="Init the GPIO Port X Interrupt Callback function.">xGPIOPinIntCallbackInit()</a>,</li>
<li>xGPIOIntTypeSet(),</li>
<li>xGPIOIntTypeGet(),</li>
<li><a class="el" href="group__x_g_p_i_o___exported___a_p_is.html#ga5a4426bcac8cbaa7e75814c277537c94" title="Set the interrupt type and Enable interrupt for the specified pin(s).">xGPIOPinIntEnable()</a>,</li>
<li><a class="el" href="group__x_g_p_i_o___exported___a_p_is.html#gab475e8a1a1ed324d772ac0e40847ef0e" title="Disables interrupts for the specified pin(s).">xGPIOPinIntDisable()</a>,</li>
</ul>
<p><br/>
 </p>
<h2><a class="anchor" id="xGPIO_API_Group_Pin"></a>
2.3 GPIO Pin State APIs</h2>
<p>The GPIO pin state is accessed with :</p>
<ul>
<li><a class="el" href="group__x_g_p_i_o___exported___a_p_is.html#ga12d3f427c26182faeaa1292fc17f4459" title="Reads the values present of the specified pin(s).">xGPIOPinRead()</a></li>
<li><a class="el" href="group__x_g_p_i_o___exported___a_p_is.html#ga3d4ef88431fd4dd66148f54fd2876638" title="Write a value to the specified pin(s).">xGPIOPinWrite()</a>.</li>
</ul>
<p><br/>
 </p>
<h1><a class="anchor" id="xGPIO_Usage"></a>
3. Usage &amp; Program Examples</h1>
<p>The following example shows how to use the GPIO API to initialize the GPIO, read data from pins, and write data to pins.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> iVal;</div>
<div class="line"></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Initialize the GPIO pin configuration.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Set pins 2, 4, and 5 as input, SW controlled.</span></div>
<div class="line">XPinTypeGPIOInput(<a class="code" href="group__x_low_layer___peripheral___memmap.html#ga36cf8b166896fcc956f8728d1d34ed26">xGPIO_PORTA_BASE</a>,</div>
<div class="line">                  <a class="code" href="group__x_g_p_i_o___general___pin___i_ds.html#gaddc992b77e2b2104343969d68a23b92e" title="GPIO pin 2.">xGPIO_PIN_2</a> | <a class="code" href="group__x_g_p_i_o___general___pin___i_ds.html#ga2828679ce5d0138ecc198f0687a04ad7" title="GPIO pin 4.">xGPIO_PIN_4</a> | <a class="code" href="group__x_g_p_i_o___general___pin___i_ds.html#ga89ad7e7d84adc8d23c5ee7cf659a6c78" title="GPIO pin 5.">xGPIO_PIN_5</a>);</div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Set pins 0 and 3 as output, SW controlled.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line">XPinTypeGPIOOutput(<a class="code" href="group__x_low_layer___peripheral___memmap.html#ga36cf8b166896fcc956f8728d1d34ed26">xGPIO_PORTA_BASE</a>, <a class="code" href="group__x_g_p_i_o___general___pin___i_ds.html#ga93e3536e5c709eb53e78569cd093cb48" title="GPIO pin 0.">xGPIO_PIN_0</a> | <a class="code" href="group__x_g_p_i_o___general___pin___i_ds.html#ga7b2a8bb2224049aad302edba594c7d93" title="GPIO pin 3.">xGPIO_PIN_3</a>);</div>
<div class="line"></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Read some pins.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line">iVal = <a class="code" href="group__x_g_p_i_o___exported___a_p_is.html#ga12d3f427c26182faeaa1292fc17f4459" title="Reads the values present of the specified pin(s).">xGPIOPinRead</a>(GPIO_PORTA_BASE,</div>
<div class="line">                    (GPIO_PIN_0 | GPIO_PIN_2 | GPIO_PIN_3 |</div>
<div class="line">                     GPIO_PIN_4 | GPIO_PIN_5));</div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Write some pins. Even though pins 2, 4, and 5 are specified, those</span></div>
<div class="line"><span class="comment">// pins are unaffected by this write since they are configured as inputs.</span></div>
<div class="line"><span class="comment">// At the end of this write, pin 0 will be a 0, and pin 3 will be a 1.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><a class="code" href="group__x_g_p_i_o___exported___a_p_is.html#ga3d4ef88431fd4dd66148f54fd2876638" title="Write a value to the specified pin(s).">xGPIOPinWrite</a>(GPIO_PORTA_BASE,</div>
<div class="line">              (GPIO_PIN_0 | GPIO_PIN_2 | GPIO_PIN_3 |</div>
<div class="line">               GPIO_PIN_4 | GPIO_PIN_5),</div>
<div class="line">              0xF8);</div>
</div><!-- fragment -->  </div><!-- contents -->
</div><!-- doc-content -->
<hr>
<address>
  <small>
    &copy;&nbsp;2009-2011 by CooCox - 
    visit <a href="http://www.coocox.org/">http://www.coocox.org/</a>
  </small>
</address>
</body>
</html>
